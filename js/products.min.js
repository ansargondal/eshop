$(function(){var o,r=$("#edit-product-modal"),c=$("#new-product-modal");$body.on("click",".js-btn-edit",function(t){t.preventDefault(),r.modal("show")}),(o=$("#edit-product-form")).on("click",function(t){t.preventDefault();var e=r.find("[name=batch]").val(),a=r.find("[name=product]").val(),n=r.find("[name=qty]").val(),i=r.find("[name=pp]").val(),d=r.find("[name=sp]").val(),s=r.find("[name=expiry]").val();$.ajax({url:o.attr("action"),type:o.attr("method"),data:o.serialize(),dataType:"json",success:function(t){t.success?($tr.find(".batch").text(e),$tr.find(".product").text(a),$tr.find(".qty").text(n),$tr.find(".pp").text(i),$tr.find(".sp").text(d),$tr.find(".expiry").text(s),r.modal("hide")):alert("something went wrong! Please try again!")}})}),$(".js-btn-new-product").click(function(t){t.preventDefault(),c.modal("show"),addFocusOnOpenModal(c)}),(o=$("#new-product-form")).submit(function(t){t.preventDefault();var e=c.find("[name=batch]").val(),a=c.find("[name=product]").val(),n=c.find("[name=qty]").val(),i=c.find("[name=pp]").val(),d=c.find("[name=sp]").val(),s=c.find("[name=expiry]").val();$tr=$("tbody > tr:last-of-type").clone(),$.ajax({url:o.attr("action"),type:o.attr("method"),data:o.serialize(),dataType:"json",success:function(t){t.success?($tr.find(".batch").text(e),$tr.find(".product").text(a),$tr.find(".qty").text(n),$tr.find(".pp").text(i),$tr.find(".sp").text(d),$tr.find(".expiry").text(s),$("tbody").append($tr),c.modal("hide")):alert(t.message)}})});var a=$("#products-table tbody").find("tr").clone();$jsFilters.on("click",function(t){t.preventDefault(),$jsFilters.removeClass("active"),$(this).addClass("active"),$(this).closest(".table-container").find("tbody").empty().append(a);var e=a;switch($.trim($(this).data("val").toLowerCase())){case"oos":e.each(function(){$(this).find("td").eq(6).find("span").hasClass("in-stock")&&$(this).remove()});break;case"is":e.each(function(){$(this).find("td").eq(6).find("span").hasClass("out-of-stock")&&$(this).remove()})}})});